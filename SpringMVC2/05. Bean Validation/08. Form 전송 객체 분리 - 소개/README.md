# Form 전송 객체 분리 - 소개
- 실무에서는 `groups`를 잘 사용하지 않는데, 그 이유가 다른 곳에 있다.
바로 등록시 폼에서 전달하는 데이터가 `Item` 도메인 객체와 딱 맞지 않기 때문이다.
- 소위 "Hello World" 예제에서는 폼에서 전달하는 데이터와 `Item` 도메인 객체가 딱 맞는다.
하지만 실무에서는 회원 등록시 회원과 관련된 데이터만 전달받는 것이 아니라, 약관 정보도 
추가로 받는 등 `Item`과 관계없는 수 많은 부가 데이터가 넘어온다.
- 그래서 보통 `Item`을 직접 전달받는 것이 아니라, 복잡한 폼의 데이터를 컨트롤러까지 전달할
별도의 객체를 만들어서 전달한다. 예를 들면 `ItemSaveForm`이라는 폼을 전달받는 전용 객체를 만들어서
`@ModelAttribute`로 사용한다. 이것을 통해 컨트롤러에서 폼 데이터를 전달 받고, 이후 컨트롤러에서 필요한
  데이터를 사용해서 `Item`을 생성한다.

## 폼 데이터 전달에 Item 도메인 객체 사용
`HTML Form -> Item -> Controller -> Item -> Repository`
- 장점 : Item 도메인 객체를 컨트롤러, 리포지토리까지 직접 전달해서 중간에 Item을
만드는 과정이 없어서 간단하다.
- 단점 : 간단한 경우에만 적용할 수 있다. 수정시 검증이 중복될 수 있고, groups를 사용해야 한다.

## 폼 데이터 전달을 위한 별도의 객체 사용
`HTML Form -> ItemSaveForm -> Controller -> Item 생성 -> Repository`
- 장점 : 전송하는 폼 데이터가 복잡해도 거기에 맞춘 별도의 폼 객체를 사용해서 데이터를 전달 받을 수 
있다. 보통 등록과, 수정용으로 별도의 폼 객체를 만들기 때문에 검증이 중복되지 않는다.
- 단점 : 폼 데이터를 기반으로 컨트롤러에서 Item 객체를 생성하는 변환 과정이 추가된다.

## 정리
- 수정의 경우 등록과 수정은 완전히 다른 데이터가 넘어온다. 생각해보면 회원 가입시 다루는 데이터와
수정 시 다루는 데이터는 범위에 차이가 있다. 예를 들면 등록 시에는 로그인ID, 주민번호 등을 받을 수 
있지만, 수정 시에는 이런 부분이 빠진다. 그리고 검증 로직도 많이 달라진다. 그래서 `ItemUpdateForm`
  이라는 별도의 객체로 데이터를 전달받는 것이 좋다.
- `Item`도메인 객체를 폼 전달 데이터로 사용하고, 그대로 쭉 넘기면 편리하겠지만,앞에서 설명한 것과 같이 
실무에서는 `Item`의 데이터만 넘어오는 것이 아니라 무수한 추가 데이터가 넘어온다. 그리고 더 나아가서
`Item`을 생성하는데 필요한 추가 데이터를 데이터베이스나 다른 곳에서 찾아와야 할 수도 있다.
- 따라서 이렇게 폼 데이터를 전달을 위한 별도의 객체를 사용하고, 등록, 수정용 폼 객체를 나누면 등록, 수정이
완전히 분리되기 때문에 `groups`를 적용할 일은 드물다.
  
### 이름 명명
- 이름은 의미있게 지으면 된다.
- `ItemSave`라고 해도 되고, `ItemSaveForm`, `ItemSaveRequest`. `ItemSaveDto`
등ㅇ로 사용해도 된다.
- 중요한 것은 일관성이다.

### 등록, 수정용 뷰 템플릿이 비슷한데 합치는 것 관련
- 한 페이지에 뷰 테플릿 파일을 등록과 수정을 합치는 것이 좋을 지 고민이 될 수 있다.
- 각각 장단점이 있으므로 고민하는게 좋지만, 어설프게 합치면 수많은 분기문(등록일 때, 수정일 때)
때문에 나중에 유지보수에서 고통을 맛본다.
- 어설픈 분기분들이 보이기 시작하면 분리해야 할 신호이다.
